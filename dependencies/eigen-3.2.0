#!/bin/sh
#
# Setup Eigen 3.2.
#
set -e

# Directories.
root_dir=`pwd`

if [ -d debian ]; then
    build_dir="/tmp/_travis/build"
    install_dir="/tmp/_travis/install"
else
    build_dir="$root_dir/_travis/build"
    install_dir="$root_dir/_travis/install"
fi

cd "$build_dir"
wget "http://bitbucket.org/eigen/eigen/get/3.2.0.tar.gz"
tar xzvf 3.2.0.tar.gz
cd "$build_dir/eigen-eigen-*/"
mkdir -p "$build_dir/eigen-eigen-*/_build"
cd "$build_dir/eigen-eigen-*/_build"
cmake .. -DCMAKE_INSTALL_PREFIX:STRING="$install_dir" \
	 -Dpkg_config_libdir:STRING="$install_dir/lib"
make
make install
